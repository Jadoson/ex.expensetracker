import{a as L,Q as y,c as P,b as w}from"./QTabPanel.f85fc4d1.js";import{Q as C}from"./QSeparator.445704a7.js";import{Q as f}from"./QCard.720974b8.js";import{Q as V,c as p,d as h}from"./QCardActions.0d86933f.js";import{d as Q}from"./QBtn.9a8f75d0.js";import{v,r as u,X as x,x as g,G as _,A as e,z as t,a6 as S,F as m,D as Y,Y as U}from"./index.68ae41e8.js";import"./touch.30139ba5.js";import"./selection.913076d6.js";import"./use-dark.7f250f5f.js";const $=m("div",null,[m("p",null,"Sign in with your email address and password")],-1),j={class:"text-negative"},B=v({__name:"FormLogin",setup(b){const a=u(!1),r=u(""),o=u(""),n=u(""),c=x(),i=async()=>{try{a.value=!0;const{data:l,error:s}=await U.auth.signInWithPassword({email:r.value,password:o.value});if(s)throw s;l&&c.push("/")}catch(l){l instanceof Error&&(console.error(l.message),n.value=l.message)}finally{a.value=!1}};return(l,s)=>(g(),_("form",{class:"flex q-pa-lg column flex-center",onSubmit:S(i,["prevent"])},[e(f,{flat:""},{default:t(()=>[e(V,{class:"q-gutter-md"},{default:t(()=>[$,e(p,{"lazy-rules":"",rules:[(d,q)=>q.email(d)||"Please enter a valid email address"],type:"email",label:"Your email",modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=d=>r.value=d)},null,8,["rules","modelValue"]),e(p,{type:"password",label:"Your password",modelValue:o.value,"onUpdate:modelValue":s[1]||(s[1]=d=>o.value=d)},null,8,["modelValue"])]),_:1}),m("p",j,Y(n.value),1),e(h,{class:"justify-center q-gutter-md"},{default:t(()=>[e(Q,{type:"submit",color:"primary",label:a.value?"Loading":"Log in",disabled:a.value},null,8,["label","disabled"])]),_:1})]),_:1})],32))}}),T=m("div",null,[m("p",null,"Sign up with your email address and a password")],-1),z=v({__name:"FormSignUp",setup(b){const a=u(!1),r=u(""),o=u(""),n=x(),c=async()=>{try{a.value=!0;const{data:i,error:l}=await U.auth.signUp({email:r.value,password:o.value});if(l)throw l;i&&n.push("/")}catch(i){i instanceof Error&&console.error(i.message)}finally{a.value=!1}};return(i,l)=>(g(),_("form",{class:"q-pa-lg column flex-center flex",onSubmit:S(c,["prevent"])},[e(f,{flat:""},{default:t(()=>[e(V,{class:"q-gutter-md"},{default:t(()=>[T,e(p,{"lazy-rules":"",rules:[(s,d)=>d.email(s)||"Please enter a valid email address"],type:"email",label:"Your email",modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=s=>r.value=s)},null,8,["rules","modelValue"]),e(p,{type:"password",label:"Your password",modelValue:o.value,"onUpdate:modelValue":l[1]||(l[1]=s=>o.value=s)},null,8,["modelValue"])]),_:1}),e(h,{class:"justify-center q-gutter-md"},{default:t(()=>[e(Q,{type:"submit",color:"primary",label:a.value?"Loading":"Sign up",disabled:a.value},null,8,["label","disabled"])]),_:1})]),_:1})],32))}}),A={class:"column items-center justify-center"},E=m("h1",{class:"text-h2"},"Home",-1),W=v({__name:"AuthPage",setup(b){const a=u("login");return(r,o)=>(g(),_("div",A,[E,e(f,{class:"column"},{default:t(()=>[e(L,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=n=>a.value=n),"active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:t(()=>[e(y,{name:"login",label:"Log in"}),e(y,{name:"sign-up",label:"Sign up"})]),_:1},8,["modelValue"]),e(C),e(P,{modelValue:a.value,"onUpdate:modelValue":o[1]||(o[1]=n=>a.value=n),animated:""},{default:t(()=>[e(w,{name:"login"},{default:t(()=>[e(B)]),_:1}),e(w,{name:"sign-up"},{default:t(()=>[e(z)]),_:1})]),_:1},8,["modelValue"])]),_:1})]))}});export{W as default};
